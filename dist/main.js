(()=>{var t={325:(t,e,a)=>{const{Ship:r,PatrolBoat:s,Submarine:i,Destroyer:n,Battleship:o,Carrier:c}=a(836);t.exports={GameBoard:class{constructor(){this.board={},this.ships=Array()}addShip(t,e,a,r="default",s="h"){if(e<0||e>9||a<0||a>9)return!1;if(`${e}, ${a}`in this.board)return!1;let i=this.addTypeShip(t,r);return this.ships.push(i),"v"===s?this.addShipFaceVertical(e,a,i):this.addShipFaceHorizontal(e,a,i)}addTypeShip(t,e){switch(t){case"P":return new s(e);case"S":return new i(e);case"D":return new n(e);case"B":return new o(e);case"C":return new c(e);default:return!1}}addShipFaceHorizontal(t,e,a){if(t+a.size>9)return!1;for(let r=t;r<t+a.size;r++)this.board[`${r}${e}`]=a;return a}addShipFaceVertical(t,e,a){if(e+a.size>9)return!1;for(let r=e;r<e+a.size;r++)this.board[`${t}${r}`]=a;return a}receiveAttack(t,e){return`${t}${e}`in this.board&&this.board[`${t}${e}`].hit()}isAllShipSunk(){if(null===this.ships)return null;let t=!0;return this.ships.forEach((e=>{e.isSunk()||(t=!1)})),t}}}},836:t=>{class e{constructor(t="St John"){this.player=t,this.totalHit=0,this.location=null}hit(){return this.totalHit+=1,this}isSunk(){return this.totalHit===this.size}}t.exports={Ship:e,PatrolBoat:class extends e{constructor(t){super(t),this.shipName="Patrol Boat",this.size=2}},Submarine:class extends e{constructor(t){super(t),this.shipName="Submarine",this.size=3}},Destroyer:class extends e{constructor(t){super(t),this.shipName="Destroyer",this.size=3}},Battleship:class extends e{constructor(t){super(t),this.shipName="Battleship",this.size=4}},Carrier:class extends e{constructor(t){super(t),this.shipName="Carrier",this.size=5}}}},507:(t,e,a)=>{const{GameBoard:r}=a(325);class s{constructor(t){this.name=t,this.gameBoard=new r,this.logsAttack={}}checkLogs(t,e){return void 0===this.logsAttack[`${t}${e}`]}init(){this.gameBoard.addShip("P",4,4,this.name)}attack(t,e,a){if(console.log(`${this.name} attack ${t.name} ${e}, ${a}`),this.checkLogs(e,a))return this.logsAttack[`${e}${a}`]=!0,t.receiveAttack(e,a)}receiveAttack(t,e){return this.gameBoard.receiveAttack(t,e)}isLost(){return this.gameBoard.isAllShipSunk()}}t.exports={Player:s,ComputerAI:class extends s{attack(t,e,a){return console.log(`${this.name} attack ${t.name} ${e}, ${a}`),this.logsAttack[`${e}${a}`]=!0,t.receiveAttack(e,a)}}}}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,a),i.exports}(()=>{"use strict";var t=a(507);function e(t){const e=document.createElement("table");e.id=t;for(let t=0;t<10;t++){const a=document.createElement("tr");for(let e=0;e<10;e++){const r=document.createElement("td");r.id=`c${e}${t}`,r.classList="cell",a.appendChild(r)}e.insertBefore(a,e.firstChild)}return e}function r(t,e){let a=function(s){if(s.target.classList.contains("cell")&&!s.target.classList.contains("attacked")){s.target.classList.add("attacked");const i=s.target.id,n=document.querySelector(`table#${e.name}`);n.classList.remove("active");let o=t.attack(e,i[1],i[2]);o&&(n.querySelector(`#c${i[1]}${i[2]}`).classList.add("hitted"),console.log(`${e.name}'s ${o.shipName} got hit at ${i[1]}, ${i[2]}`)),n.removeEventListener("click",a),r(e,t)}};var s;if(s=t.name,document.querySelector("#divTurn").textContent=`Now is ${s}'s turn`,"ComputerAI"===t.name)!function(){let a=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());for(;!t.checkLogs(a,r);)console.log("reroll cordinate"),a=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());const s=document.querySelector(`table#${e.name}`);s.querySelector(`#c${a}${r}`).classList.add("attacked");let i=t.attack(e,a,r);i&&(s.querySelector(`#c${a}${r}`).classList.add("hitted"),console.log(`${e.name}'s ${i} got hit at ${a}, ${r}`))}(),r(e,t);else{const t=document.querySelector(`table#${e.name}`);t.classList.add("active"),t.addEventListener("click",a)}}!function(a,s){const i=document.createElement("div"),n=document.createElement("h1");n.className="Intro-title",n.textContent="Welcome to Battleship Game !";const o=document.createElement("button");o.textContent="Start Game",o.addEventListener("click",(()=>{document.body.removeChild(i),function(){const t=document.body,e=document.createElement("main"),a=document.createElement("div");a.id="divHead";const r=document.createElement("div");r.id="divBody";const s=document.createElement("div");s.id="divFoot";const i=document.createElement("div");i.id="divBoard";const n=document.createElement("h2");n.id="divTurn",document.createElement("div").id="divLogs",a.appendChild(n),r.appendChild(i),e.appendChild(a),e.appendChild(r),e.appendChild(s),t.appendChild(e)}(),function(){const a=new t.Player("Player1"),s=new t.Player("Player2");a.init(),s.init();const i=document.querySelector("#divBoard");i.appendChild(e(a.name)),i.appendChild(e(s.name)),r(a,s)}()})),i.appendChild(n),i.appendChild(o),document.body.appendChild(i)}()})()})();